{"openapi":"3.0.0","info":{"title":"Clinic API","version":"1.0.0","description":"Clinic API","contact":{"email":"ryanrfq5@gmail.com"}},"servers":[{"url":"http://localhost:3333","description":"Development Server"},{"url":"https://be-clinic-ryan.cyclic.app","description":"Production Server"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}},"schemas":{"LoginRequest":{"type":"object","properties":{"email":{"type":"string","example":"anon@mail.com"},"password":{"type":"string","example":"supermn"}},"xml":{"name":"LoginRequest"}},"Patient":{"type":"object","properties":{"regist_by":{"type":"string","example":"29722285-69b4-419a-9c06-69fd7cfe41a1"},"user_id":{"type":"string","example":"8b9b7125-dc8c-47fb-bae4-1b22ab10f289"},"id":{"type":"string","example":"f63a3906-63b2-43c3-8354-0acb75f1a7a9"},"register_date":{"type":"string","example":"2023-04-04T20:05:51.456+07:00"},"created_at":{"type":"string","example":"2023-04-04T19:05:51.456+07:00"},"updated_at":{"type":"string","example":"2023-04-04T20:05:51.456+07:00"}},"xml":{"name":"Patient"}},"PatientFull":{"type":"object","properties":{"regist_by":{"type":"string","example":"29722285-69b4-419a-9c06-69fd7cfe41a1"},"user_id":{"type":"string","example":"8b9b7125-dc8c-47fb-bae4-1b22ab10f289"},"status":{"type":"string","example":"menikah"},"gender":{"type":"string","example":"M"},"address":{"type":"string","example":"JL Veteran No. 7&7A, Surabaya"},"phone":{"type":"string","example":88257425333},"birthday":{"type":"string","example":"2001-08-01"},"name":{"type":"string","example":"Doddy Rachman"},"nik":{"type":"string","example":"3326164107570382"},"is_verified":{"type":"boolean","example":false},"image_id":{"type":"string","example":null},"id":{"type":"string","example":"f63a3906-63b2-43c3-8354-0acb75f1a7a9"},"register_date":{"type":"string","example":"2023-04-04T20:05:51.456+07:00"},"created_at":{"type":"string","example":"2023-04-04T19:05:51.456+07:00"},"updated_at":{"type":"string","example":"2023-04-04T20:05:51.456+07:00"}},"xml":{"name":"PatientFull"}},"ResponseUnauthorized":{"type":"object","properties":{"error":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string","example":"E_UNAUTHORIZED_ACCESS: Unauthorized access"}}}}}},"User":{"type":"object","properties":{"email":{"type":"string","example":"randomuser@mail.com"},"role":{"type":"string","example":"patient"},"id":{"type":"string","example":"8b9b7125-dc8c-47fb-bae4-1b22ab10f289"},"token":{"type":"string","example":"Mp4uYFOjV9zyHML"},"token_expiry":{"type":"string","example":"2023-04-04T23:05:51.210+07:00"}}}},"requestBodies":{"LoginRequest":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"description":"Request object needed when requesting login","required":true}}},"paths":{"/login":{"post":{"tags":["auth"],"summary":"Login using email and password","responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"bearer"},"token":{"type":"string","example":"ODUzNzAxMDEwMjQyMjczMjgx.8F7AgNm4Ss_hKBzukFEnOxFcma20R046irRGvwrIN-34JShVOmksDt8pK6Gj"}}}}}},"401":{"description":"Invalid credentials"}},"requestBody":{"$ref":"#/components/requestBodies/LoginRequest"}}},"/logout":{"get":{"tags":["auth"],"summary":"Logs out current logged in user","security":[{"bearerAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"berhasil logout"}}}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnauthorized"}}}}}}},"/patient-register":{"post":{"tags":["auth"],"summary":"Register new patient","security":[{"bearerAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Berhasil meregistrasi pasien baru"},"patientData":{"$ref":"#/components/schemas/Patient"},"userData":{"$ref":"#/components/schemas/User"}}}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnauthorized"}}}},"422":{"content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"rule":{"type":"string","example":"unique"},"field":{"type":"string","example":"email"},"message":{"type":"string","example":"unique validation failed"}}}}}}}}}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"randomuser@mail.com"},"password":{"type":"string","example":"topsecret"},"password_confirmation":{"type":"string","example":"topsecret"}}}}},"required":true}}},"/patients":{"get":{"tags":["patients"],"summary":"Get data from all patient","security":[{"bearerAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Berhasil mengambil data semua pasien"},"data":{"type":"array","items":{"$ref":"#/components/schemas/PatientFull"}}}}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseUnauthorized"}}}}}}}},"tags":[{"name":"auth","description":"requests that needs or related to authentication"},{"name":"patients","description":"requests related to Patient model"}]}